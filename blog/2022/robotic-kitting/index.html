<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>Bilevel Optimization for Just-in-Time Robotic Kitting | Yi-Shiuan Tung</title> <meta name="author" content="Yi-Shiuan Tung"> <meta name="description" content="Blog post for RO-MAN 2022 paper"> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.css"> <link rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?19f3075a2d19613090fe9e16b564e1fe" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="/assets/img/favicon.png?e26219d56e20b1927be1ba2824b250be"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://yi-shiuan-tung.github.io/blog/2022/robotic-kitting/"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?e74e74bf055e5729d44a7d031a5ca6a5" media="none" id="highlight_theme_dark"> <script src="/assets/js/theme.js?96d6b3e1c3604aca8b6134c7afdd5db6"></script> <script src="/assets/js/dark_mode.js?9b17307bb950ffa2e34be0227f53558f"></script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"><span class="font-weight-bold">Yi-Shiuan </span>Tung</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about</a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">blog<span class="sr-only">(current)</span></a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">publications</a> </li> <li class="nav-item "> <a class="nav-link" href="/teaching/">teaching</a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fa-solid fa-moon"></i> <i class="fa-solid fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5"> <div class="post"> <header class="post-header"> <h1 class="post-title">Bilevel Optimization for Just-in-Time Robotic Kitting</h1> <p class="post-meta">August 1, 2022</p> <p class="post-tags"> <a href="/blog/2022"> <i class="fa-solid fa-calendar fa-sm"></i> 2022 </a>   ·   <a href="/blog/tag/publications"> <i class="fa-solid fa-hashtag fa-sm"></i> publications</a>   </p> </header> <article class="post-content"> <div id="markdown-content" style="text-align: justify;"> <h2 id="overview">Overview</h2> <p><strong>Problem:</strong> Traditional kitting systems often use few pre-defined kits that do not adapt to variability such as part shortages or unexpected delays in real time. This inflexibility can lead to inefficiencies, higher cognitive load for workers, and longer production times.</p> <p><strong>Solution:</strong> We propose a dynamic robotic kitting planner that segments and schedules assembly tasks to minimize idle time and reduce makespan. Using a bilevel optimization framework, the upper-level optimization determines the task segmentation to minimize idle time and the lower-level optimization designs the physical layout of parts on the kitting tray to ensure usability and logical grouping.</p> <h2 id="what-is-kitting">What is Kitting?</h2> <p>Kitting is the process of preparing and grouping the required components for assembly of a given product. Kitting is advantageous for assemblies involving numerous small components and products that support a wide range of customizations. For example, it is used in electronics and automobile manufacturing (https://tulip.co/blog/the-kitting-process-for-manufacturers/).</p> <h2 id="problem-setup">Problem Setup</h2> <p>We have a set of tasks to finish represented by a Directed Acyclic Graph (DAG). An edge between two tasks <strong>a</strong> -&gt; <strong>b</strong> indicates that task <strong>a</strong> has to be finished before task <strong>b</strong> can begin. The tasks that the human can do depends on the assembly parts that the robot delivers on the kitting tray. The robot has estimates of how long it takes the human to perform each task and the availability of parts. <strong>How does the robot determine what parts to place on the kitting tray at any given time in order to maximize team throughput?</strong></p> <h2 id="approach">Approach</h2> <h3 id="bilevel-optimization">Bilevel Optimization</h3> <p>The upper level problem optimizes for an objective function that depends on the outcome of the lower level problem. In the upper level problem, the robot segments the task such that human idle time is minimized. The first segment is the kit that the robot delivers in the next time step. The “goodness” of the segmentation is influenced by the lower level problem of how well the assembly parts fit in the kit. For more details, please refer to the <a href="https://hiro-group.ronc.one/papers/2022_Tung_ROMAN_kitting.pdf" rel="external nofollow noopener" target="_blank">paper</a>.</p> <p align="center"> <img width="500" src="/assets/img/roman2022/bilevel-opt.png"> </p> <p align="center"> </p> <h2 id="experiments">Experiments</h2> <h3 id="user-study">User Study</h3> <p>In the user study, articipants assembled a miniature table that required connecting four legs, connectors and a flat surface plank by snapping the pieces together and securing with screws and nuts. The robot has to deliver four legs, eight connectors, small/large screw and nuts boxes on the kitting tray.</p> <div align="center"> <img width="200" src="/assets/img/roman2022/arranging_cropped.png"> <img width="200" src="/assets/img/roman2022/delivery_cropped.png"> <img width="200" src="/assets/img/roman2022/building_cropped.png"> <img width="200" src="/assets/img/roman2022/finished_cropped.png"> </div> <p><br></p> <p>Our optimization produced the following kitting strategy based on an initial data set of human task times.</p> <div align="center"> <img width="250" src="/assets/img/roman2022/segment1.jpg"> <img width="250" src="/assets/img/roman2022/segment2.jpg"> <img width="250" src="/assets/img/roman2022/segment3.jpg"> </div> <p><br></p> <p>The first kit allows the human to connect a leg to a top connector. The third kit is repeated until the task is done. Here we do not consider part shortages. In the <a href="#discrete-event-simulation">simulation experiment</a>, we model various assembly part arrival time distributions and part-feeding machine breakdown conditions (i.e. the part is not available to the robot until after the machine is repaired.)</p> <p>The baselines that we compare to are <strong>Single Task</strong> where the robot delivers parts for a single task at a time and <strong>Whole Assembly</strong> where all the parts are delivered at once. Our approach <strong>Optimized</strong> has a shorter total task time and idle times than <strong>Whole Assembly</strong> and is also rated more useful and efficient.</p> <div align="center"> <img width="300" src="/assets/img/roman2022/userstudy_tasktimes.png"> <img width="300" src="/assets/img/roman2022/userstudy_postexp.png"> </div> <h3 id="discrete-event-simulation">Discrete Event Simulation</h3> <p>We model the arrival of assembly parts as a Poisson process with rate \(1/MAT\) where \(MAT\) is the mean arrival time. The machine breakdown is modeled similarly with the mean time to failure denoted by \(MTTF\). The figures below are the percent improvement in total task time of <strong>Optimized</strong> over <strong>Whole Assembly</strong> (top-left) and over <strong>Single Task</strong> (top-right), and the percent improvement in human idle time of <strong>Optimized</strong> over <strong>Whole Assembly</strong> (bottom-left) and over <strong>Single Task</strong> (bottom-right). The total task time and human idle time are significantly shorter for <strong>Optimized</strong> than the baselines. <strong>Optimized</strong> is most advantageous over <strong>Whole Assembly</strong> when there is high part shortage (\(MAT\) is high). <strong>Optimized</strong> is most advantageous over <strong>Single Task</strong> when there are many machine failures (\(MTTF\) is low).</p> <div align="center" style="display: flex; flex-wrap: wrap; justify-content: center;"> <div style="display: flex; width: 100%; justify-content: center; gap: 10px; margin-bottom: 10px;"> <img width="300" src="/assets/img/roman2022/tt_optimized_over_whole.png"> <img width="300" src="/assets/img/roman2022/tt_optimized_over_single.png"> </div> <div style="display: flex; width: 100%; justify-content: center; gap: 10px;"> <img width="300" src="/assets/img/roman2022/hit_optimized_over_whole.png"> <img width="300" src="/assets/img/roman2022/hit_optimized_over_single.png"> </div> </div> </div> </article> <br> <hr> <br> <ul class="list-disc pl-8"></ul> <h2 class="text-3xl font-semibold mb-4 mt-12">Enjoy Reading This Article?</h2> <p class="mb-2">Here are some more articles you might like to read next:</p> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2023/min-entropy/">Minimizing Entropy for Classification Problems</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2024/workspace-optimization/">Workspace Optimization Techniques to Improve Human Motion Prediction</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2025/cred/">Counterfactual Reasoning and Environment Design for Active Preference Learning</a> </li> </div> </div> <footer class="fixed-bottom"> <div class="container mt-0"> © Copyright 2025 Yi-Shiuan Tung. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Photos from <a href="https://unsplash.com" target="_blank" rel="external nofollow noopener">Unsplash</a>. Last updated: June 29, 2025. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?7b30caa5023af4af8408a472dc4e1ebb"></script> <script defer src="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.js"></script> <script src="/assets/js/no_defer.js?d633890033921b33e0ceb13d22340a9c"></script> <script defer src="/assets/js/common.js?acdb9690d7641b2f8d40529018c71a01"></script> <script defer src="/assets/js/copy_code.js?07b8786bab9b4abe90d10e61f7d12ff7" type="text/javascript"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script async src="https://www.googletagmanager.com/gtag/js?id=G-509JKBBD7E"></script> <script>function gtag(){window.dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-509JKBBD7E");</script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>